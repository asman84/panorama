<?php
$comments =[
        [
        'id' => 1,
        'commentator' => 'Ann',
        'comment' => 'I liked this film. this is awesome film, that everyone in his',
        'date' => '2017-11-11 10:20:20'
        ],
        [
        'id' => 2,
        'commentator' => 'Jennifer',
        'comment' => 'I should admit that I liked this film.',
        'date' => '2017-11-18 13:23:20'
        ],
        [
        'id' => 3,
        'commentator' => 'Kate',
        'comment' => 'I should admit that I liked this film.',
        'date' => '2017-11-18 02:14:20'
        ],
        [
        'id' => 3,
        'commentator' => 'Jennifer',
        'comment' => 'NottingHill is also nice film.I should admit that I liked this film.',
        'date' => '2017-11-18 06:50:20',
        ],
        [
        'id' => 1,
        'commentator' => 'Kate',
        'comment' => 'I should admit that I liked this film.',
        'date' => '2017-11-18 19:10:20',
        ]
    ];
$movies = [
        [
          'name' => 'Titanic',
          'id' => 1,
          'year' => 1999,
          'isNew' => true,
          'type' => 'movie',
          'genre' => 'comedy',
          'img' => 'application/bestPrice/img/slider33.jpg',
          'rating' => 1,
          'totalWatch' => 230,
          'details' => 'I saw this film in Los Angeles, in 2010. Mimino was awarded 13 times.'
        ],
        [
          'name' => 'NottingHill',
          'id' => 2,
          'year' => 1990,
          'isNew' => true,
          'type' => 'cartoon',
          'genre' => 'Triller',
          'img' => 'img/photo2',
          'rating' => 4,
          'totalWatch' => 18,
          'details' => 'Bred Pitt was the most popular in Los Angeles, in 2010.'
        ],
        [
          'name' => 'Suyunchi-serial',
          'id' => 3,
          'year' => 2017,
          'isNew' => false,
          'type' => 'serial',
          'genre' => 'Melodramma',
          'img' => 'img/photo3',
          'rating' => 2,
          'totalWatch' => 523,
          'details' => 'This film was taken in Los Angeles, in 2010. Mimino was awarded 13 times'
        ],
        [
          'name' => 'Sakura-kino',
          'id' => 4,
          'year' => 2016,
          'isNew' => false,
          'type' => 'movie',
          'genre' => 'Melodramma',
          'img' => 'img/photo4',
          'rating' => 3,
          'totalWatch' => 123,
          'details' => 'This film was taken in Los Angeles, in 2010. Mimino was awarded 13 times'
        ],
        [
          'name' => 'Me and You',
          'id' => 5,
          'year' => 2016,
          'isNew' => false,
          'type' => 'cartoon',
          'genre' => 'Melodramma',
          'img' => 'img/photo4',
          'rating' => 4,
          'totalWatch' => 203,
          'details' => 'This film was taken according to the Indian film, in 2010. and was awarded 13 times'
        ],
        [
          'name' => 'BBC-serial',
          'id' => 6,
          'year' => 2016,
          'isNew' => false,
          'type' => 'serial',
          'genre' => 'Melodramma',
          'img' => 'img/photo4',
          'rating' => 5,
          'totalWatch' => 23,
          'details' => 'This film was taken in Los Angeles, in 2010. Mimino was awarded 13 times'
        ],
        [
          'name' => 'Yamamoto',
          'id' => 7,
          'year' => 2016,
          'isNew' => true,
          'type' => 'movie',
          'genre' => 'Melodramma',
          'img' => 'img/photo4',
          'rating' => 3,
          'totalWatch' => 23,
          'details' => 'This film was taken in Los Angeles, in 2010. Mimino was awarded 13 times'
        ],
        [
          'name' => 'Mimino',
          'id' => 8,
          'year' => 2016,
          'isNew' => false,
          'type' => 'cartoon',
          'genre' => 'Melodramma',
          'img' => 'img/photo4',
          'rating' => 5,
          'totalWatch' => 23,
          'details' => 'This film was taken in Los Angeles, in 2010. Mimino was awarded 13 times'
        ],
        [
          'name' => 'Interesting Video',
          'id' => 9,
          'year' => 2016,
          'isNew' => false,
          'type' => 'video',
          'genre' => 'Melodramma',
          'img' => 'img/photo4',
          'rating' => 5,
          'totalWatch' => 23,
          'details' => 'This film was taken in Los Angeles, in 2015. Interesting Video was awarded 3 times'
        ],
        [
          'name' => 'Sakura',
          'id' => 10,
          'year' => 2016,
          'isNew' => false,
          'type' => 'cartoon',
          'genre' => 'Melodramma',
          'img' => 'img/photo4',
          'rating' => 5,
          'totalWatch' => 23,
          'details' => 'This film was taken in Los Angeles, in 2015. Sakura was awarded 3 times'
        ],
        [
          'name' => 'Video2-Rolik',
          'id' => 11,
          'year' => 2016,
          'isNew' => true,
          'type' => 'video',
          'genre' => 'Melodramma',
          'img' => 'img/photo4',
          'rating' => 5,
          'totalWatch' => 41,
          'details' => 'This film was taken in Los Angeles, in 2010. Mimino was awarded 13 times'
        ],
        [
          'name' => 'Video3-Rolik',
          'id' => 12,
          'year' => 2016,
          'isNew' => true,
          'type' => 'video',
          'genre' => 'Melodramma',
          'img' => 'img/photo4',
          'rating' => 2,
          'totalWatch' => 54,
          'details' => 'This film was taken in Los Angeles, in 2010. Mimino was awarded 13 times'
        ],
        [
          'name' => 'Vassabi',
          'id' => 13,
          'year' => 2016,
          'isNew' => true,
          'type' => 'video',
          'genre' => 'Melodramma',
          'img' => 'img/photo4',
          'rating' => 5,
          'totalWatch' => 17,
          'details' => 'This film was taken in Los Angeles, in 2010. Mimino was awarded 13 times'
        ],
    ];

function router(){
  switch($_POST['action']) {
    case 'comment':
    getComment();
    break;
    case 'movies':
    getMovies();
    break;
  }
}

function filterComment($comment) {
  return $comments['id'] == $_POST['id'];
}

function filterMovie($movie) {
  if (isset($_POST['type'])) {
    return $movie['type'] === $_POST['type'];
  } else {
    return true;
  }
}
function getComment() {
  global $comments;
  print json_encode(array_values(array_filter($comments,'filterComment' )));
}

function getMovies() {
  global $movies;
  print json_encode(array_values(array_filter($movies,'filterMovie')));
}
router();

  ;